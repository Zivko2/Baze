SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO


CREATE PROCEDURE [dbo].[SP_CreaBOM_DESCTEMPFINAL]   as
		if not exists (select * from dbo.sysobjects where name='BOM_DESCTEMPFINAL')
	begin
		CREATE TABLE [dbo].[BOM_DESCTEMPFINAL] (
			[CONSECUTIVO] [int] IDENTITY (1, 1) NOT NULL ,
			[FE_CODIGO] [int] NULL ,
			[FED_INDICED] [int] NULL ,
			[BST_HIJO] [int] NOT NULL ,
			[BST_CANTDESC] decimal(38,6) NULL ,
			[TI_CODIGO] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL ,
			[MA_TIP_ENS] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL ,
			[BST_TIPODESC] [varchar] (5) COLLATE SQL_Latin1_General_CP1_CI_AS NULL ,
			[BST_CONTESTATUS] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_BOM_DESCTEMPFINAL_BST_CONTESTATUS] DEFAULT ('E'),
			[BST_DESCARGADO] [char] (1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL CONSTRAINT [DF_BOM_DESCTEMPFINAL_BST_DESCARGADO] DEFAULT ('N'),
			[BST_CANTDESCKG] decimal(38,6) NULL ,
			[BST_PESO_KG] decimal(38,6) NULL CONSTRAINT [DF_BOM_DESCTEMPFINAL_BST_PESO_KG] DEFAULT (0),
			[PA_CODIGO] [int] NULL 
		) ON [PRIMARY]
		
		ALTER TABLE [dbo].[BOM_DESCTEMPFINAL] ADD 
			CONSTRAINT [IX_BOM_DESCTEMPFINAL] UNIQUE  NONCLUSTERED 
			(
				[CONSECUTIVO]
			) WITH  FILLFACTOR = 90  ON [PRIMARY]
	end

GO
