SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
SET ANSI_PADDING ON
GO
CREATE TABLE [dbo].[BOM_STRUCT] (
		[BST_CODIGO]          [int] IDENTITY(1, 1) NOT NULL,
		[BSU_SUBENSAMBLE]     [int] NOT NULL,
		[BST_HIJO]            [int] NOT NULL,
		[BST_INCORPOR]        [decimal](38, 6) NOT NULL,
		[BST_DISCH]           [char](1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
		[ME_CODIGO]           [int] NULL,
		[FACTCONV]            [decimal](28, 14) NOT NULL,
		[BST_PERINI]          [datetime] NOT NULL,
		[BST_PERFIN]          [datetime] NOT NULL,
		[ME_GEN]              [int] NULL,
		[BST_TRANS]           [char](1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
		[BSU_NOPARTE]         [varchar](30) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
		[BST_NOPARTE]         [varchar](30) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
		[BSU_NOPARTEAUX]      [varchar](10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
		[BST_NOPARTEAUX]      [varchar](10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
		[BST_TIP_ENS]         [char](1) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
		[BST_SEC]             [smallint] NOT NULL,
		CONSTRAINT [IX_BOM_STRUCT]
		UNIQUE
		NONCLUSTERED
		([BST_CODIGO])
		ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [PK_BOM_STRUCT]
	PRIMARY KEY
	CLUSTERED
	([BSU_SUBENSAMBLE], [BST_HIJO], [BST_PERINI], [BST_PERFIN], [BST_SEC])
	WITH FILLFACTOR=90
	ON [PRIMARY]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_DISCH]
	DEFAULT ('S') FOR [BST_DISCH]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_INCORPOR]
	DEFAULT (1) FOR [BST_INCORPOR]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_NOPARTEAUX]
	DEFAULT ('') FOR [BST_NOPARTEAUX]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_PERFIN]
	DEFAULT ('1/1/9999') FOR [BST_PERFIN]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_PERINI]
	DEFAULT ('1/1/1999') FOR [BST_PERINI]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_SEC]
	DEFAULT (0) FOR [BST_SEC]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BST_TRANS]
	DEFAULT ('N') FOR [BST_TRANS]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_BSU_NOPARTEAUX]
	DEFAULT ('') FOR [BSU_NOPARTEAUX]
GO
ALTER TABLE [dbo].[BOM_STRUCT]
	ADD
	CONSTRAINT [DF_BOM_STRUCT_FACTCONV]
	DEFAULT (1) FOR [FACTCONV]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_1]
	ON [dbo].[BOM_STRUCT] ([BSU_SUBENSAMBLE])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_10]
	ON [dbo].[BOM_STRUCT] ([BSU_NOPARTE], [BSU_NOPARTEAUX], [BST_NOPARTE], [BST_NOPARTEAUX], [BST_PERINI], [BSU_SUBENSAMBLE], [BST_CODIGO], [BST_SEC], [BST_PERFIN], [BST_HIJO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_11]
	ON [dbo].[BOM_STRUCT] ([BSU_NOPARTE], [BSU_NOPARTEAUX], [BST_NOPARTE], [BST_NOPARTEAUX], [BST_PERINI], [BSU_SUBENSAMBLE], [BST_SEC], [BST_PERFIN], [BST_HIJO], [BST_CODIGO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_12]
	ON [dbo].[BOM_STRUCT] ([BSU_NOPARTE], [BSU_NOPARTEAUX], [BST_NOPARTE], [BST_NOPARTEAUX], [BST_PERFIN], [BST_PERINI], [BST_CODIGO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_2]
	ON [dbo].[BOM_STRUCT] ([BST_HIJO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_4]
	ON [dbo].[BOM_STRUCT] ([BST_PERINI])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_5]
	ON [dbo].[BOM_STRUCT] ([ME_CODIGO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_6]
	ON [dbo].[BOM_STRUCT] ([BST_PERFIN])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_7]
	ON [dbo].[BOM_STRUCT] ([BST_PERINI], [BSU_NOPARTE], [BSU_SUBENSAMBLE], [BST_SEC], [BST_PERFIN], [BST_HIJO], [BSU_NOPARTEAUX], [BST_CODIGO], [BST_NOPARTE], [BST_NOPARTEAUX])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_8]
	ON [dbo].[BOM_STRUCT] ([BST_PERFIN], [BSU_NOPARTEAUX], [BST_PERINI], [BSU_NOPARTE], [BSU_SUBENSAMBLE], [BST_SEC], [BST_HIJO], [BST_NOPARTE], [BST_NOPARTEAUX], [BST_CODIGO])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_9]
	ON [dbo].[BOM_STRUCT] ([BST_CODIGO], [BST_PERINI], [BSU_SUBENSAMBLE], [BST_HIJO], [BST_PERFIN], [BST_SEC], [BSU_NOPARTE], [BSU_NOPARTEAUX], [BST_NOPARTE], [BST_NOPARTEAUX])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_BST_NoParte]
	ON [dbo].[BOM_STRUCT] ([BST_NOPARTE])
	ON [PRIMARY]
GO
CREATE NONCLUSTERED INDEX [IX_BOM_STRUCT_BSU_NoParte]
	ON [dbo].[BOM_STRUCT] ([BSU_NOPARTE])
	ON [PRIMARY]
GO
ALTER TABLE [dbo].[BOM_STRUCT] SET (LOCK_ESCALATION = TABLE)
GO
