SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
GO




























CREATE PROCEDURE dbo.SP_GETCONSECUTIVO ( @TIPO VARCHAR(4), @VALUE INTEGER OUTPUT) AS     
BEGIN
--	exec SP_ACTUALIZACONSECUTIVOTABLA  @TIPO

  BEGIN TRAN
     SELECT @VALUE = CV_CODIGO FROM CONSECUTIVO  WHERE CV_TIPO = @TIPO
     UPDATE CONSECUTIVO SET  CV_CODIGO = @VALUE+1  WHERE CV_TIPO = @TIPO 
 COMMIT TRAN
END



























GO
